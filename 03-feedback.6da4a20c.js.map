{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,kBAChCC,EAAcF,SAASC,cAAc,UAE3C,IAAIE,EACAC,EAAaJ,SAASC,cAAc,kBACpCI,EAAkBL,SAASC,cAAc,oBAE7CF,EAAOO,iBACL,SACA,EAAAT,EAAAU,WAAS,KACPJ,EAAW,CACTK,MAAOJ,EAAWK,MAClBC,QAASL,EAAgBI,OAG3BE,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUX,GAAU,GACpE,MAGL,IAAIY,EAAYJ,aAAaK,QAAQ,uBACjCC,EAAaJ,KAAKK,MAAMH,GAE5BI,OAAOb,iBAAiB,QAAQc,IAI9B,IACErB,EAAOsB,SAASb,MAAMC,MAAQQ,EAAWT,MACzCT,EAAOsB,SAASX,QAAQD,MAAQQ,EAAWP,O,CAC3C,MAAOY,GACPC,QAAQC,IAAI,iC,KAIhBtB,EAAYI,iBAAiB,SAASc,IACpCA,EAAEK,iBAEFF,QAAQC,IAAI,SAAUzB,EAAOsB,SAASb,MAAMC,OAC5Cc,QAAQC,IAAI,WAAYzB,EAAOsB,SAASX,QAAQD,OAEhDV,EAAO2B,QAEPf,aAAagB,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst submitBtnEl = document.querySelector('button');\n\nlet formData;\nlet emailInput = document.querySelector('[name=\"email\"]');\nlet messageTextarea = document.querySelector('[name=\"message\"]');\n\nformEl.addEventListener(\n  'input',\n  throttle(() => {\n    formData = {\n      email: emailInput.value,\n      message: messageTextarea.value,\n    };\n    //save an object with email and message to local storage\n    localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n  }, 500)\n);\n\nlet savedData = localStorage.getItem('feedback-form-state');\nlet parsedData = JSON.parse(savedData);\n\nwindow.addEventListener('load', e => {\n  //   e.preventDefault();\n  //use try catch to avoid error if local storage is empty\n  //fill the form with the data from local storage\n  try {\n    formEl.elements.email.value = parsedData.email;\n    formEl.elements.message.value = parsedData.message;\n  } catch (error) {\n    console.log('Please fill in the form fields');\n  }\n});\n\nsubmitBtnEl.addEventListener('click', e => {\n  e.preventDefault();\n  //log formData\n  console.log('email:', formEl.elements.email.value);\n  console.log('message:', formEl.elements.message.value);\n  //clear data-form\n  formEl.reset();\n  //clear local storage\n  localStorage.clear();\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$submitBtnEl","$945622fd0f572e60$var$formData","$945622fd0f572e60$var$emailInput","$945622fd0f572e60$var$messageTextarea","addEventListener","throttle","email","value","message","localStorage","setItem","JSON","stringify","$945622fd0f572e60$var$savedData","getItem","$945622fd0f572e60$var$parsedData","parse","window","e","elements","error","console","log","preventDefault","reset","clear"],"version":3,"file":"03-feedback.6da4a20c.js.map"}