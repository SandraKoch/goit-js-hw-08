{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,kBAChCC,EAAcF,SAASC,cAAc,UAMrCE,GAAgB,EAAAN,EAAAO,WAASC,GAJlB,CAAAA,IACXC,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUJ,GAAM,EAG5BK,CAAKL,IAAO,KAEnDN,EAAOY,iBAAiB,SAASC,IAC/B,MACEC,UAAUC,MAAEA,EAAKC,QAAEA,IACjBH,EAAMI,cAEJC,EAAW,CACfH,MAAOA,EAAMI,MACbH,QAASA,EAAQG,OAGnBf,EAAcc,EAAS,IAGzB,IACIE,EADAC,EAAYd,aAAae,QAAQ,uBAErC,IACEF,EAAaX,KAAKc,MAAMF,E,CACxB,MACAG,QAAQC,IAAI,G,CAKVL,GACFpB,EAAOc,SAASC,MAAMI,MAAQC,EAAWL,MACzCf,EAAOc,SAASE,QAAQG,MAAQC,EAAWJ,SAE3CQ,QAAQC,IAAI,kCAGdtB,EAAYS,iBAAiB,SAASc,IACpCA,EAAEC,iBAEFH,QAAQC,IAAI,SAAUzB,EAAOc,SAASC,MAAMI,OAC5CK,QAAQC,IAAI,WAAYzB,EAAOc,SAASE,QAAQG,OAChDK,QAAQC,IAAIJ,GAEZrB,EAAO4B,QAEPrB,aAAasB,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst submitBtnEl = document.querySelector('button');\n\nconst save = data => {\n  localStorage.setItem('feedback-form-state', JSON.stringify(data));\n};\n\nconst throttledSave = throttle(data => save(data), 500);\n\nformEl.addEventListener('input', event => {\n  const {\n    elements: { email, message },\n  } = event.currentTarget;\n\n  const formData = {\n    email: email.value,\n    message: message.value,\n  };\n\n  throttledSave(formData);\n});\n\nlet savedData = localStorage.getItem('feedback-form-state');\nlet parsedData;\ntry {\n  parsedData = JSON.parse(savedData);\n} catch {\n  console.log('');\n}\n\n// window.addEventListener('load', e => {})\n\nif (parsedData) {\n  formEl.elements.email.value = parsedData.email;\n  formEl.elements.message.value = parsedData.message;\n} else {\n  console.log('Please fill in the form fields');\n}\n\nsubmitBtnEl.addEventListener('click', e => {\n  e.preventDefault();\n  //log formData\n  console.log('email:', formEl.elements.email.value);\n  console.log('message:', formEl.elements.message.value);\n  console.log(savedData);\n  //clear data-form\n  formEl.reset();\n  //clear local storage\n  localStorage.clear();\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$submitBtnEl","$945622fd0f572e60$var$throttledSave","throttle","data","localStorage","setItem","JSON","stringify","$945622fd0f572e60$var$save","addEventListener","event","elements","email","message","currentTarget","formData","value","$945622fd0f572e60$var$parsedData","$945622fd0f572e60$var$savedData","getItem","parse","console","log","e","preventDefault","reset","clear"],"version":3,"file":"03-feedback.8c4d5100.js.map"}