{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,kBAChCC,EAAcF,SAASC,cAAc,UAMrCE,GAAgB,EAAAN,EAAAO,WAJTC,IACXC,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUJ,GAAM,GAG9B,KAErCN,EAAOW,iBAAiB,SAASC,IAC/B,MACEC,UAAUC,MAAEA,EAAKC,QAAEA,IACjBH,EAAMI,cAEJC,EAAW,CACfH,MAAOA,EAAMI,MACbH,QAASA,EAAQG,OAGnBd,EAAca,EAAS,IAGzB,IACIE,EADAC,EAAYb,aAAac,QAAQ,uBAErC,IACEF,EAAaV,KAAKa,MAAMF,E,CACxB,MACAG,QAAQC,IAAI,G,CAKVL,GACFnB,EAAOa,SAASC,MAAMI,MAAQC,EAAWL,MACzCd,EAAOa,SAASE,QAAQG,MAAQC,EAAWJ,SAE3CQ,QAAQC,IAAI,kCAGdrB,EAAYQ,iBAAiB,SAASc,IACpCA,EAAEC,iBAEFH,QAAQC,IAAI,SAAUxB,EAAOa,SAASC,MAAMI,OAC5CK,QAAQC,IAAI,WAAYxB,EAAOa,SAASE,QAAQG,OAEhDlB,EAAO2B,QAEPpB,aAAaqB,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst submitBtnEl = document.querySelector('button');\n\nconst save = data => {\n  localStorage.setItem('feedback-form-state', JSON.stringify(data));\n};\n\nconst throttledSave = throttle(save, 500);\n\nformEl.addEventListener('input', event => {\n  const {\n    elements: { email, message },\n  } = event.currentTarget;\n\n  const formData = {\n    email: email.value,\n    message: message.value,\n  };\n\n  throttledSave(formData);\n});\n\nlet savedData = localStorage.getItem('feedback-form-state');\nlet parsedData;\ntry {\n  parsedData = JSON.parse(savedData);\n} catch {\n  console.log('');\n}\n\n// window.addEventListener('load', e => {})\n\nif (parsedData) {\n  formEl.elements.email.value = parsedData.email;\n  formEl.elements.message.value = parsedData.message;\n} else {\n  console.log('Please fill in the form fields');\n}\n\nsubmitBtnEl.addEventListener('click', e => {\n  e.preventDefault();\n  //log formData\n  console.log('email:', formEl.elements.email.value);\n  console.log('message:', formEl.elements.message.value);\n  //clear data-form\n  formEl.reset();\n  //clear local storage\n  localStorage.clear();\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$submitBtnEl","$945622fd0f572e60$var$throttledSave","throttle","data","localStorage","setItem","JSON","stringify","addEventListener","event","elements","email","message","currentTarget","formData","value","$945622fd0f572e60$var$parsedData","$945622fd0f572e60$var$savedData","getItem","parse","console","log","e","preventDefault","reset","clear"],"version":3,"file":"03-feedback.b57dc75d.js.map"}